<!doctype html>
<html lang="ru">
<head>
    <meta charset="utf-8"/>
    <meta name="viewport" content="width=device-width, initial-scale=1"/>
    <title>Photo / 3D Viewer</title>
    <link rel="stylesheet" href="/static/styles.css"/>
    <!-- three.js + loaders -->
    <script src="https://unpkg.com/three@0.160.0/build/three.min.js" defer></script>
    <script src="https://unpkg.com/three@0.160.0/examples/js/controls/OrbitControls.js" defer></script>
    <script src="https://unpkg.com/three@0.160.0/examples/js/loaders/PLYLoader.js" defer></script>
    <script src="https://unpkg.com/three@0.160.0/examples/js/loaders/GLTFLoader.js" defer></script>
    <script src="https://unpkg.com/three@0.160.0/examples/js/loaders/OBJLoader.js" defer></script>
    <script src="/static/app.js" defer></script>
</head>
<body>
<header class="topbar">
    <button id="btnHome" class="ghost" style="display:none">‚Üê</button>
    <h1>PlantPod dataset / üßä 3D</h1>
    <div class="spacer"></div>
</header>

<main id="pageList">
    <section class="upload">
        <h2>–î–æ–±–∞–≤–∏—Ç—å zip</h2>
        <form id="uploadForm">
            <input type="file" id="zipInput" accept=".zip"/>
<!--            <input type="text" id="displayName" placeholder="–Ω–∞–∑–≤–∞–Ω–∏–µ (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ)"/>-->
            <input type="password" id="pwd" placeholder="–ø–∞—Ä–æ–ª—å"/>
            <button type="submit">–ó–∞–≥—Ä—É–∑–∏—Ç—å</button>
        </form>
        <p class="hint">Zip –º–æ–∂–µ—Ç —Å–æ–¥–µ—Ä–∂–∞—Ç—å —Ñ–æ—Ç–æ –∏/–∏–ª–∏ –º–æ–¥–µ–ª—å (<code>.glb, .gltf, .obj, .ply</code>). –ó–∞–≥—Ä—É–∑–∫–∞ —Ç–æ–ª—å–∫–æ –ø–æ
            –ø–∞—Ä–æ–ª—é.</p>
        <div id="uploadMsg" class="msg"></div>
    </section>

    <section>
        <h2>–ù–∞–±–æ—Ä—ã</h2>
        <div id="datasets" class="grid"></div>
        <div id="listError" class="err" style="display:none"></div>
    </section>
</main>

<main id="pageViewer" style="display:none">
    <div class="viewer-toolbar">
        <span id="viewerTitle"></span>
        <span id="viewerMode" class="badge"></span>
        <div class="spacer"></div>
        <button id="btnDelete" class="danger">–£–¥–∞–ª–∏—Ç—å –Ω–∞–±–æ—Ä</button>
    </div>
    <div id="viewerWrap">
        <canvas id="glcanvas"></canvas>
        <img id="spinImg" style="display:none; max-width:100%; max-height:100%; object-fit:contain;"/>
        <div id="loading" class="loading" style="display:none">–ó–∞–≥—Ä—É–∑–∫–∞‚Ä¶</div>
        <div id="spinSliderWrap" class="spin-slider" style="display:none;">
            <input type="range" id="spinSlider" min="0" max="1" value="0"/>
        </div>
    </div>
</main>
</body>
</html>
